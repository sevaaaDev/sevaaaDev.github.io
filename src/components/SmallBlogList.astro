---
import type { CollectionEntry } from "astro:content";
import Card from "./Card.astro";
import { getCollection } from "astro:content";
let posts = await getCollection("blog");
posts.sort((a, b): number => {
  return Date.parse(b.data.publishDate) - Date.parse(a.data.publishDate);
});
// TODO: doesnt work
---


{
  posts.map((post) => (
    <Card
      title={post.data.title}
      url={`/posts/${post.id}`}
      date={post.data.publishDate}
      topic={post.data.topic}
      body={post.body!.slice(0,100) + "..."}
    /> 
      ))
}
